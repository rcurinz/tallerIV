(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["FreeTransform"]=t():e["FreeTransform"]=t()})("undefined"!==typeof self?self:this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"0d58":function(e,t,n){var r=n("ce10"),o=n("e11e");e.exports=Object.keys||function(e){return r(e,o)}},"11e9":function(e,t,n){var r=n("52a7"),o=n("4630"),a=n("6821"),i=n("6a99"),c=n("69a8"),s=n("c69a"),u=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?u:function(e,t){if(e=a(e),t=i(t,!0),s)try{return u(e,t)}catch(e){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},1495:function(e,t,n){var r=n("86cc"),o=n("cb7c"),a=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){o(e);var n,i=a(t),c=i.length,s=0;while(c>s)r.f(e,n=i[s++],t[n]);return e}},"230e":function(e,t,n){var r=n("d3f4"),o=n("7726").document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},2540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.x,r=e.y,o=e.startX,a=e.startY;return function(e){n+=e.pageX-o,r+=e.pageY-a,t({x:n,y:r}),o=e.pageX,a=e.pageY}}},"255b":function(e,t,n){!function(t,n){e.exports=n()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)?[e.a*t[0]+e.c*t[1]+e.e,e.b*t[0]+e.d*t[1]+e.f]:{x:e.a*t.x+e.c*t.y+e.e,y:e.b*t.x+e.d*t.y+e.f}}function o(e,t){return t.map(function(t){return r(e,t)})}function a(e){return{a:parseFloat(e.a),b:parseFloat(e.b),c:parseFloat(e.c),d:parseFloat(e.d),e:parseFloat(e.e),f:parseFloat(e.f)}}n.r(t);var i=/^matrix\(\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*\)$/i;function c(e){var t=e.match(i);if(null===t||t.length<7)throw new Error("'"+e+"' is not a matrix");return{a:parseFloat(t[1]),b:parseFloat(t[2]),c:parseFloat(t[3]),d:parseFloat(t[4]),e:parseFloat(t[5]),f:parseFloat(t[6])}}function s(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function u(e){var t=e.a,n=e.b,r=e.c,o=e.d,a=e.e,i=e.f,c=t*o-n*r;return{a:o/c,b:n/-c,c:r/-c,d:t/c,e:(o*a-r*i)/-c,f:(n*a-t*i)/c}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)},d=function(e){return null!=e&&"object"===(void 0===e?"undefined":l(e))};function h(e){return d(e)&&e.hasOwnProperty("a")&&f(e.a)&&e.hasOwnProperty("b")&&f(e.b)&&e.hasOwnProperty("c")&&f(e.c)&&e.hasOwnProperty("d")&&f(e.d)&&e.hasOwnProperty("e")&&f(e.e)&&e.hasOwnProperty("f")&&f(e.f)}function p(e){return void 0===e}function y(e){return{a:1,c:0,e:e,b:0,d:1,f:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}}function v(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e,t){return{a:e.a*t.a+e.c*t.b,c:e.a*t.c+e.c*t.d,e:e.a*t.e+e.c*t.f+e.e,b:e.b*t.a+e.d*t.b,d:e.b*t.c+e.d*t.d,f:e.b*t.e+e.d*t.f+e.f}};switch((t=Array.isArray(t[0])?t[0]:t).length){case 0:throw new Error("no matrices provided");case 1:return t[0];case 2:return r(t[0],t[1]);default:var o=function(e){return Array.isArray(e)?e:Array.from(e)}(t),a=o[0],i=o[1],c=o.slice(2),s=r(a,i);return v.apply(void 0,[s].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(c)))}}function b(){return v.apply(void 0,arguments)}var m=Math.cos,g=Math.sin,x=Math.PI;function _(e,t,n){var r=m(e),o=g(e),a={a:r,c:-o,e:0,b:o,d:r,f:0};return p(t)||p(n)?a:v([y(t,n),a,y(-t,-n)])}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return _(e*x/180,t,n)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return p(t)&&(t=e),{a:e,c:0,e:0,b:0,d:t,f:0}}function O(e,t){return{a:1,c:e,e:0,b:t,d:1,f:0}}var S=Math.tan;function X(e,t){return{a:1,c:S(e),e:0,b:S(t),d:1,f:0}}function Y(e,t){return X(e*Math.PI/180,t*Math.PI/180)}function M(e){return F(e)}function j(e){return F(e)}function F(e){return"matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")"}n.d(t,"applyToPoint",function(){return r}),n.d(t,"applyToPoints",function(){return o}),n.d(t,"fromObject",function(){return a}),n.d(t,"fromString",function(){return c}),n.d(t,"identity",function(){return s}),n.d(t,"inverse",function(){return u}),n.d(t,"isAffineMatrix",function(){return h}),n.d(t,"rotate",function(){return _}),n.d(t,"rotateDEG",function(){return w}),n.d(t,"scale",function(){return P}),n.d(t,"shear",function(){return O}),n.d(t,"skew",function(){return X}),n.d(t,"skewDEG",function(){return Y}),n.d(t,"toCSS",function(){return M}),n.d(t,"toSVG",function(){return j}),n.d(t,"toString",function(){return F}),n.d(t,"transform",function(){return v}),n.d(t,"compose",function(){return b}),n.d(t,"translate",function(){return y})}])})},"2aba":function(e,t,n){var r=n("7726"),o=n("32e9"),a=n("69a8"),i=n("ca5a")("src"),c="toString",s=Function[c],u=(""+s).split(c);n("8378").inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,c){var s="function"==typeof n;s&&(a(n,"name")||o(n,"name",t)),e[t]!==n&&(s&&(a(n,i)||o(n,i,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:c?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,c,function(){return"function"==typeof this&&this[i]||s.call(this)})},"2aeb":function(e,t,n){var r=n("cb7c"),o=n("1495"),a=n("e11e"),i=n("613b")("IE_PROTO"),c=function(){},s="prototype",u=function(){var e,t=n("230e")("iframe"),r=a.length,o="<",i=">";t.style.display="none",n("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+i+"document.F=Object"+o+"/script"+i),e.close(),u=e.F;while(r--)delete u[s][a[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(c[s]=r(e),n=new c,c[s]=null,n[i]=e):n=u(),void 0===t?n:o(n,t)}},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"32e9":function(e,t,n){var r=n("86cc"),o=n("4630");e.exports=n("9e1e")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},4588:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5537:function(e,t,n){var r=n("8378"),o=n("7726"),a="__core-js_shared__",i=o[a]||(o[a]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,n){var r=n("7726"),o=n("8378"),a=n("32e9"),i=n("2aba"),c=n("9b43"),s="prototype",u=function(e,t,n){var l,f,d,h,p=e&u.F,y=e&u.G,v=e&u.S,b=e&u.P,m=e&u.B,g=y?r:v?r[t]||(r[t]={}):(r[t]||{})[s],x=y?o:o[t]||(o[t]={}),_=x[s]||(x[s]={});for(l in y&&(n=t),n)f=!p&&g&&void 0!==g[l],d=(f?g:n)[l],h=m&&f?c(d,r):b&&"function"==typeof d?c(Function.call,d):d,g&&i(g,l,d,e&u.U),x[l]!=d&&a(x,l,h),b&&_[l]!=d&&(_[l]=d)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"5dbc":function(e,t,n){var r=n("d3f4"),o=n("8b97").set;e.exports=function(e,t,n){var a,i=t.constructor;return i!==n&&"function"==typeof i&&(a=i.prototype)!==n.prototype&&r(a)&&o&&o(e,a),e}},"613b":function(e,t,n){var r=n("5537")("keys"),o=n("ca5a");e.exports=function(e){return r[e]||(r[e]=o(e))}},"626a":function(e,t,n){var r=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6821:function(e,t,n){var r=n("626a"),o=n("be13");e.exports=function(e){return r(o(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(e,t,n){var r=n("4588"),o=Math.max,a=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):a(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},8378:function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},8675:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("959e");t.default=function(e,t,n){var a=t.startX,i=t.startY,c=t.x,s=t.y,u=t.scaleX,l=t.scaleY,f=t.width,d=t.height,h=t.angle,p=t.scaleLimit,y=t.scaleFromCenter,v=void 0!==y&&y,b=t.enableScaleFromCenter,m=void 0===b||b,g=t.aspectRatio,x=void 0!==g&&g,_=t.enableAspectRatio,w=void 0===_||_,P=f*u/(d*l),O=(0,o.getPoint)(e,{x:c,y:s,scaleX:u,scaleY:l,width:f,height:d,angle:h,scaleFromCenter:v}),S=(0,o.getOppositePoint)(e,{x:c,y:s,scaleX:u,scaleY:l,width:f,height:d,angle:h}),X={x:c,y:s,scaleX:u,scaleY:l};return function(t){m&&(t.altKey&&!v||!t.altKey&&v)&&(a=t.pageX,i=t.pageY,v=t.altKey&&!v,O=(0,o.getPoint)(e,r({},X,{width:f,height:d,angle:h,scaleFromCenter:v})),S=(0,o.getOppositePoint)(e,r({},X,{width:f,height:d,angle:h}))),!t.shiftKey&&x?x=!1:t.shiftKey&&!x&&(x=!0),w||(x=!1);var y={x:t.pageX-a,y:t.pageY-i},b=(0,o.getMovePoint)(e,S,O,y);m&&v&&(b.x*=2,b.y*=2);var g=(0,o.getSineCosine)(e,h),_=g.sin,Y=g.cos,M={x:b.x*Y+b.y*_,y:b.y*Y-b.x*_};switch(X.scaleX=M.x/f>p?M.x/f:p,X.scaleY=M.y/d>p?M.y/d:p,e){case"ml":case"mr":X.scaleY=l,x&&(X.scaleY=f*X.scaleX*(1/P)/d);break;case"tm":case"bm":X.scaleX=u,x&&(X.scaleX=d*X.scaleY*P/f);break;default:x&&(X.scaleY=f*X.scaleX*(1/P)/d)}if(m&&v){var j=(0,o.getCenter)({x:c,y:s,width:f,height:d,scaleX:X.scaleX,scaleY:X.scaleY});X.x=c+(O.x-j.x),X.y=s+(O.y-j.y)}else{var F=(0,o.getOppositePoint)(e,{width:f,height:d,angle:h,x:c,y:s,scaleX:X.scaleX,scaleY:X.scaleY});X.x=c+(S.x-F.x),X.y=s+(S.y-F.y)}n(X)}}},"86cc":function(e,t,n){var r=n("cb7c"),o=n("c69a"),a=n("6a99"),i=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"89e1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("255b"),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t);e=parseFloat((e*n).toFixed(11));var r=Math.round(e)/n;return+r.toFixed(2)};t.default=function(e){var t=e.x,n=e.y,a=e.angle,i=e.scaleX,c=e.scaleY,s=e.width,u=e.height,l=e.disableScale,f=void 0!==l&&l,d=s*(1-i),h=s-d,p=u*(1-c),y=u-p,v=void 0;return!1===f?v=(0,r.transform)((0,r.translate)(o(t+d/2),o(n+p/2)),(0,r.rotate)(a*(Math.PI/180)),(0,r.scale)(i,c)):(v=(0,r.transform)((0,r.translate)(o(t+d),o(n+p)),(0,r.rotate)(a*(Math.PI/180))),s=h,u=y),{element:{width:s,height:u,transform:(0,r.toCSS)(v),position:"absolute"},controls:{width:h,height:y,transform:(0,r.toCSS)((0,r.transform)((0,r.translate)(o(t+d),o(n+p)),(0,r.rotate)(a*(Math.PI/180)))),position:"absolute"}}}},"8b97":function(e,t,n){var r=n("d3f4"),o=n("cb7c"),a=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},9093:function(e,t,n){var r=n("ce10"),o=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"927f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("959e");t.default=function(e,t){var n=e.x,o=e.y,a=e.scaleX,i=e.scaleY,c=e.width,s=e.height,u=e.angle,l=e.startX,f=e.startY,d=e.offsetX,h=e.offsetY,p=(0,r.getCenter)({x:n,y:o,scaleX:a,scaleY:i,width:c,height:s}),y=180*Math.atan2(f-h-p.y,l-d-p.x)/Math.PI;return function(e){var n=180*Math.atan2(e.pageY-h-p.y,e.pageX-d-p.x)/Math.PI,r=u+n-y;e.shiftKey&&(r=15*(r/15>>0)),t({angle:r})}}},"959e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){var t=e.x,n=e.y,r=e.angle,o=e.center,a=e.rad,i=void 0===a?r*(Math.PI/180):a;return{x:(t-o.x)*Math.cos(i)-(n-o.y)*Math.sin(i)+o.x,y:(t-o.x)*Math.sin(i)+(n-o.y)*Math.cos(i)+o.y}},a=t.getCenter=function(e){var t=e.x,n=e.y,r=e.scaleX,o=e.scaleY,a=e.width,i=e.height,c=a*r,s=i*o,u=c-a,l=s-i;return{x:t-u+c/2,y:n-l+s/2}},i=t.getTL=function(e){var t=e.x,n=e.y,r=e.scaleX,i=e.scaleY,c=e.width,s=e.height,u=e.angle,l=e.center,f=void 0===l?a({x:t,y:n,scaleX:r,scaleY:i,width:c,height:s}):l;return o({x:t,y:n,angle:u,center:f})},c=t.getBL=function(e){var t=e.x,n=e.y,r=e.scaleX,i=e.scaleY,c=e.width,s=e.height,u=e.angle,l=e.center,f=void 0===l?a({x:t,y:n,scaleX:r,scaleY:i,width:c,height:s}):l;return o({angle:u,center:f,x:t,y:n+s*i})},s=t.getTR=function(e){var t=e.x,n=e.y,r=e.scaleX,i=e.scaleY,c=e.width,s=e.height,u=e.angle,l=e.center,f=void 0===l?a({x:t,y:n,scaleX:r,scaleY:i,width:c,height:s}):l;return o({angle:u,center:f,x:t+c*r,y:n})},u=t.getBR=function(e){var t=e.x,n=e.y,r=e.scaleX,i=e.scaleY,c=e.width,s=e.height,u=e.angle,l=e.center,f=void 0===l?a({x:t,y:n,scaleX:r,scaleY:i,width:c,height:s}):l;return o({angle:u,center:f,x:t+c*r,y:n+s*i})},l=t.getMR=function(e){var t=e.x,n=e.y,r=e.scaleX,i=e.scaleY,c=e.width,s=e.height,u=e.angle,l=e.center,f=void 0===l?a({x:t,y:n,scaleX:r,scaleY:i,width:c,height:s}):l;return o({x:t+c*r,y:n+s*i/2,center:f,angle:u})},f=t.getBM=function(e){var t=e.x,n=e.y,r=e.scaleX,i=e.scaleY,c=e.width,s=e.height,u=e.angle,l=e.center,f=void 0===l?a({x:t,y:n,scaleX:r,scaleY:i,width:c,height:s}):l;return o({x:t+c*r/2,y:n+s*i,center:f,angle:u})},d=t.getTM=function(e){var t=e.x,n=e.y,r=e.scaleX,i=e.scaleY,c=e.width,s=e.height,u=e.angle,l=e.center,f=void 0===l?a({x:t,y:n,scaleX:r,scaleY:i,width:c,height:s}):l;return o({x:t+c*r/2,y:n,center:f,angle:u})},h=t.getML=function(e){var t=e.x,n=e.y,r=e.scaleX,i=e.scaleY,c=e.width,s=e.height,u=e.angle,l=e.center,f=void 0===l?a({x:t,y:n,scaleX:r,scaleY:i,width:c,height:s}):l;return o({x:t,y:n+s*i/2,center:f,angle:u})},p=(t.getOppositePoint=function(e,t){var n=void 0,o=a({x:t.x,y:t.y,width:t.width,height:t.height,scaleX:t.scaleX,scaleY:t.scaleY});switch(t=r({center:o},t,{x:p(t.x,t.width,t.scaleX),y:p(t.y,t.height,t.scaleY)}),e){case"tl":n=u;break;case"ml":n=l;break;case"tr":n=c;break;case"tm":n=f;break;case"bl":n=s;break;case"bm":n=d;break;case"br":n=i;break;case"mr":n=h;break}return n(t)},t.getPoint=function(e,t){var n=a({x:t.x,y:t.y,width:t.width,height:t.height,scaleX:t.scaleX,scaleY:t.scaleY});if(t.scaleFromCenter)return n;t=r({center:n},t,{x:p(t.x,t.width,t.scaleX),y:p(t.y,t.height,t.scaleY)});var o=void 0;switch(e){case"tl":o=i;break;case"ml":o=h;break;case"tr":o=s;break;case"tm":o=d;break;case"bl":o=c;break;case"bm":o=f;break;case"br":o=u;break;case"mr":o=l;break}return o(t)},t.getSineCosine=function(e,t){switch(e){case"tr":case"tm":case"bl":case"bm":return{cos:Math.cos(-t*(Math.PI/180)),sin:Math.sin(-t*(Math.PI/180))};default:return{sin:Math.sin(t*(Math.PI/180)),cos:Math.cos(t*(Math.PI/180))}}},t.getMovePoint=function(e,t,n,r){switch(e){case"tl":return{x:t.x-(r.x+n.x),y:t.y-(r.y+n.y)};case"ml":return{x:t.x-r.x-n.x,y:t.y-r.y-n.y};case"tr":case"tm":return{x:n.x+(r.x-t.x),y:t.y-(r.y+n.y)};case"mr":case"br":return{x:n.x+(r.x-t.x),y:n.y+(r.y-t.y)};case"bl":case"bm":return{x:t.x-(r.x+n.x),y:n.y+(r.y-t.y)}}},function(e,t,n){var r=t*n,o=r-t;return e-o})},"9b43":function(e,t,n){var r=n("d8e8");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},"9cdd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styler=t.translate=t.rotate=t.scale=void 0;var r=n("8675"),o=f(r),a=n("927f"),i=f(a),c=n("2540"),s=f(c),u=n("89e1"),l=f(u);function f(e){return e&&e.__esModule?e:{default:e}}t.scale=o.default,t.rotate=i.default,t.translate=s.default,t.styler=l.default},"9def":function(e,t,n){var r=n("4588"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},aa77:function(e,t,n){var r=n("5ca1"),o=n("be13"),a=n("79e5"),i=n("fdef"),c="["+i+"]",s="​",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(e,t,n){var o={},c=a(function(){return!!i[e]()||s[e]()!=s}),u=o[e]=c?t(d):i[e];n&&(o[n]=u),r(r.P+r.F*c,"String",o)},d=f.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=f},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var r=n("6821"),o=n("9def"),a=n("77f1");e.exports=function(e){return function(t,n,i){var c,s=r(t),u=o(s.length),l=a(i,u);if(e&&n!=n){while(u>l)if(c=s[l++],c!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},c5f6:function(e,t,n){"use strict";var r=n("7726"),o=n("69a8"),a=n("2d95"),i=n("5dbc"),c=n("6a99"),s=n("79e5"),u=n("9093").f,l=n("11e9").f,f=n("86cc").f,d=n("aa77").trim,h="Number",p=r[h],y=p,v=p.prototype,b=a(n("2aeb")(v))==h,m="trim"in String.prototype,g=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){t=m?t.trim():d(t,3);var n,r,o,a=t.charCodeAt(0);if(43===a||45===a){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var i,s=t.slice(2),u=0,l=s.length;u<l;u++)if(i=s.charCodeAt(u),i<48||i>o)return NaN;return parseInt(s,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(b?s(function(){v.valueOf.call(n)}):a(n)!=h)?i(new y(g(t)),n,p):g(t)};for(var x,_=n("9e1e")?u(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)o(y,x=_[w])&&!o(p,x)&&f(p,x,l(y,x));p.prototype=v,v.constructor=p,n("2aba")(r,h,p)}},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},ca5a:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},cb7c:function(e,t,n){var r=n("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},ce10:function(e,t,n){var r=n("69a8"),o=n("6821"),a=n("c366")(!1),i=n("613b")("IE_PROTO");e.exports=function(e,t){var n,c=o(e),s=0,u=[];for(n in c)n!=i&&r(c,n)&&u.push(n);while(t.length>s)r(c,n=t[s++])&&(~a(u,n)||u.push(n));return u}},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},fab2:function(e,t,n){var r=n("7726").document;e.exports=r&&r.documentElement},fb15:function(e,t,n){"use strict";var r;(n.r(t),"undefined"!==typeof window)&&((r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js$/))&&(n.p=r[1]));var o=function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{class:(e={},e[t.classPrefix+"-transform"]=!0,e[t.classPrefix+"-transform--active"]=t.selected,e),style:t.styles,on:{click:t.click,dblclick:t.dblClick,mousedown:t.mousedown}},[r("div",{class:t.classPrefix+"-transform__content",style:t.computedStyles.element},[t._t("default")],2),t.selected?r("div",{class:t.classPrefix+"-transform__controls",style:t.computedStyles.controls},[r("div",{class:t.classPrefix+"-transform__rotator",on:{mousedown:t.handleRotation}}),r("div",{class:[t.classPrefix+"-transform__scale-point "+t.classPrefix+"-transform__scale-point--tl"],on:{mousedown:function(e){t.handleScale("tl",e)}}}),r("div",{class:[t.classPrefix+"-transform__scale-point "+t.classPrefix+"-transform__scale-point--ml"],on:{mousedown:function(e){t.handleScale("ml",e)}}}),r("div",{class:[t.classPrefix+"-transform__scale-point "+t.classPrefix+"-transform__scale-point--tr"],on:{mousedown:function(e){t.handleScale("tr",e)}}}),r("div",{class:[t.classPrefix+"-transform__scale-point "+t.classPrefix+"-transform__scale-point--tm"],on:{mousedown:function(e){t.handleScale("tm",e)}}}),r("div",{class:[t.classPrefix+"-transform__scale-point "+t.classPrefix+"-transform__scale-point--bl"],on:{mousedown:function(e){t.handleScale("bl",e)}}}),r("div",{class:[t.classPrefix+"-transform__scale-point "+t.classPrefix+"-transform__scale-point--bm"],on:{mousedown:function(e){t.handleScale("bm",e)}}}),r("div",{class:[t.classPrefix+"-transform__scale-point "+t.classPrefix+"-transform__scale-point--br"],on:{mousedown:function(e){t.handleScale("br",e)}}}),r("div",{class:[t.classPrefix+"-transform__scale-point "+t.classPrefix+"-transform__scale-point--mr"],on:{mousedown:function(e){t.handleScale("mr",e)}}})]):t._e()])},a=[];function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}n("c5f6");var s=n("9cdd"),u={name:"Transform",props:{classPrefix:{type:String,default:"tr"},width:{type:Number,required:!0},height:{type:Number,required:!0},x:{type:Number,required:!0},y:{type:Number,required:!0},scaleX:{type:Number,required:!0},scaleY:{type:Number,required:!0},scaleLimit:{type:Number,default:.1},angle:{type:Number,required:!0},disableScale:{type:Boolean,default:!1},offsetX:{type:Number,required:!0},offsetY:{type:Number,required:!0},selected:{type:Boolean,default:!0},styles:{type:Object,default:function(){return{}}},selectOn:{validator:function(e){return-1!==["dblclick","mousedown","click"].indexOf(e)},default:"mousedown"},aspectRatio:{type:Boolean,default:!0},scaleFromCenter:{type:Boolean,default:!0}},computed:{computedStyles:function(){var e=Object(s["styler"])({x:this.x,y:this.y,scaleX:this.scaleX,scaleY:this.scaleY,width:this.width,height:this.height,angle:this.angle,disableScale:this.disableScale}),t=e.element,n=e.controls;return{element:c({},t,{width:t.width?"".concat(t.width,"px"):null,height:t.height?"".concat(t.height,"px"):null}),controls:c({},n,{width:"".concat(n.width,"px"),height:"".concat(n.height,"px")})}}},methods:{handleScale:function(e,t){var n=this;t.stopPropagation(),t.preventDefault();var r=Object(s["scale"])(e,{startX:t.pageX,startY:t.pageY,x:this.x,y:this.y,scaleX:this.scaleX,scaleY:this.scaleY,width:this.width,height:this.height,angle:this.angle,scaleLimit:this.scaleLimit,scaleFromCenter:this.scaleFromCenter&&t.altKey,enableScaleFromCenter:this.scaleFromCenter,aspectRatio:this.aspectRatio&&t.shiftKey,enableAspectRatio:this.aspectRatio},function(e){n.$emit("update",e)});this.onDrag(r)},handleTranslation:function(e){var t=this;e.stopPropagation();var n=Object(s["translate"])({x:this.x,y:this.y,startX:e.pageX,startY:e.pageY},function(e){t.$emit("update",e)});this.onDrag(n)},handleRotation:function(e){var t=this;e.stopPropagation();var n=Object(s["rotate"])({startX:e.pageX,startY:e.pageY,x:this.x,y:this.y,scaleX:this.scaleX,scaleY:this.scaleY,width:this.width,height:this.height,angle:this.angle,offsetX:this.offsetX,offsetY:this.offsetY},function(e){t.$emit("update",e)});this.onDrag(n)},onDrag:function(e){var t=function t(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)},mousedown:function(e){this.$emit("mousedown",e),"mousedown"!==this.selectOn&&!0!==this.selected||(this.$emit("onSelect"),this.handleTranslation(e))},click:function(e){this.$emit("click",e),"click"===this.selectOn&&this.$emit("onSelect")},dblClick:function(e){this.$emit("dblclick",e),"dblclick"===this.selectOn&&this.$emit("onSelect")}}},l=u;function f(e,t,n,r,o,a,i,c){var s,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),i?(s=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=s):o&&(s=c?function(){o.call(this,this.$root.$options.shadowRoot)}:o),s)if(u.functional){u._injectStyles=s;var l=u.render;u.render=function(e,t){return s.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,s):[s]}return{exports:e,options:u}}var d=f(l,o,a,!1,null,null,null);d.options.__file="FreeTransform.vue";var h=d.exports;t["default"]=h},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}})["default"]});
//# sourceMappingURL=FreeTransform.umd.min.js.map